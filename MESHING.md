##Mesh files

Starting from revision 916 mesh generation has been extracted to a preprocessor. This is required because we don't have enough RAM available to store the full mesh on every processor for large parallel simulations. The preprocessor avoids this problem by running sequentially and it does not need all the extra memory to store FEM solutions. The output of the preprocessor is such that each process in the large simulation only has to read and store the elements that it requires. 

Documentation about acceptable inputs for the preprocessor can be found in the [README](https://github.com/hpgem/hpgem/blob/master/README.md) file in the project root directory. The rest of this section will describe the mesh files. For examples you can look in [tests/files](https://github.com/hpgem/hpgem/tree/master/tests/files), which contains input data in files containing the word source and corresponding output in similarly named files containing the word mesh.

The first line of the mesh files always is equal to mesh 1. The next line contains 3 integers denoting the total number of nodes n, the total number of elements e and the dimension d of the mesh. 
In files describing meshes of dimension 2 or higher this is followed by the number of faces f in the mesh and for files describing 3-dimensional meshes also the number of edges e in the mesh.
The third line contains an integer denoting the number of partitions p, followed by p integers denoting in order the number of nodes that will be attributed to that partition. Note that the sum of these local amounts of nodes will in general be larger than the total number of nodes, because at the boundaries of partitions nodes need to appear in multiple partitions. 
After this there will be two lines per node. The first of these contains an integer denoting the number of partitions that should read this node p_n followed by p_n integers denoting those partitions. The other line contains an integer denoting the number of coordinates this node is associated with c, followed by c d-tuples of floating point numbers. Generated files will have these numbers in hexadecimal format to prevent rounding errors, but if you need to tweak one of these files a little, any floating point format will work. Nodes are linked to more than one coordinate if they are positioned on the 'boundary' of a periodic domain.
After the information about the nodes there is one line per element containing an integer representing the number of nodes for that elements n_e followed by n_e pairs of integers representing the global index of the nodes and the internal index of the coordinate that should be active in this element respectively. It contains all information for one node before continuing to the next node. After this it contains an integer representing the partition that is responsible for computations on this element, followed by an integer representing the number of partitions this element appears in as a shadow element s, followed by s integers denoting those shadow partitions. The global index of a node according to this file is equal to the number of nodes that precede it in the listing of nodes.
For files of dimension 2 or higher the remainder of the file contains entities that are not elements or nodes, ordered such that all entities of a higher dimension are listed before entities with a lower dimension. There is one line per entity. It begins with an integer denoting the number of elements n_f adjacent to that entity. After this there are n_f pairs of integers denoting the global index of the element and the local index of the entity inside the element respectively. It contains all information for one element before continuing the the next element. After this it contains an integer representing the number of partitions p_e that this entity should appear in. The line end with p_e integers denoting those partitions. Not that a partition is only guaranteed to contain all adjacent elements if it is responsible for computations on at least one adjacent element.
